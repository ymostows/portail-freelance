@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme {
  /* Fonts */
  --font-family-sans: var(--font-geist-sans);
  --font-family-mono: var(--font-geist-mono);

  /* Border Radius */
  --radius-lg: 0.5rem;
  --radius-md: calc(0.5rem - 2px);
  --radius-sm: calc(0.5rem - 4px);

  /* Sidebar Dimensions */
  --spacing-sidebar-width: 16rem;
  --spacing-sidebar-width-mobile: 18rem;
  --spacing-sidebar-width-icon: 3rem;

  /* Couleurs Light Mode - Identité moderne */
  --color-background: #ffffff;
  --color-foreground: #0a0a0f;
  --color-card: #ffffff;
  --color-card-foreground: #0a0a0f;
  --color-popover: #ffffff;
  --color-popover-foreground: #0a0a0f;
  --color-primary: #6366f1;
  --color-primary-foreground: #ffffff;
  --color-secondary: #f1f5f9;
  --color-secondary-foreground: #1e293b;
  --color-muted: #f8fafc;
  --color-muted-foreground: #64748b;
  --color-accent: #eef2ff;
  --color-accent-foreground: #4338ca;
  --color-destructive: #ef4444;
  --color-destructive-foreground: #ffffff;
  --color-border: #e2e8f0;
  --color-input: #f1f5f9;
  --color-ring: #6366f1;

  /* Couleurs Sidebar Light Mode */
  --color-sidebar: #fafbfc;
  --color-sidebar-foreground: #475569;
  --color-sidebar-primary: #6366f1;
  --color-sidebar-primary-foreground: #ffffff;
  --color-sidebar-accent: #eef2ff;
  --color-sidebar-accent-foreground: #4338ca;
  --color-sidebar-border: #e2e8f0;
  --color-sidebar-ring: #6366f1;
}

/* Variables CSS personnalisées pour compatibilité */
:root {
  --radius: 0.5rem;
  --sidebar-width: 16rem;
  --sidebar-width-mobile: 18rem;
  --sidebar-width-icon: 3rem;
}

/* Mode Sombre - Design cohérent et moderne */
.dark {
  /* Fond avec légère teinte bleue pour plus de profondeur */
  --color-background: #0f1117;
  --color-foreground: #f1f5f9;
  
  /* Cards avec subtil contraste pour hiérarchie visuelle */
  --color-card: #1a1d29;
  --color-card-foreground: #f1f5f9;
  
  /* Popovers cohérents avec les cards */
  --color-popover: #1a1d29;
  --color-popover-foreground: #f1f5f9;
  
  /* Couleur primaire indigo/violet moderne */
  --color-primary: #818cf8;
  --color-primary-foreground: #0f1117;
  
  /* Secondary avec teinte subtile */
  --color-secondary: #252937;
  --color-secondary-foreground: #e2e8f0;
  
  /* Muted avec meilleur contraste */
  --color-muted: #1e2330;
  --color-muted-foreground: #94a3b8;
  
  /* Accent avec teinte indigo douce */
  --color-accent: #252937;
  --color-accent-foreground: #a5b4fc;
  
  /* Destructive avec rouge moderne */
  --color-destructive: #f87171;
  --color-destructive-foreground: #0f1117;
  
  /* Bordures et inputs avec teinte bleue subtile */
  --color-border: #252937;
  --color-input: #1e2330;
  --color-ring: #818cf8;

  /* Sidebar dark mode avec identité cohérente */
  --color-sidebar: #141720;
  --color-sidebar-foreground: #cbd5e1;
  --color-sidebar-primary: #818cf8;
  --color-sidebar-primary-foreground: #0f1117;
  --color-sidebar-accent: #252937;
  --color-sidebar-accent-foreground: #a5b4fc;
  --color-sidebar-border: #1e2330;
  --color-sidebar-ring: #818cf8;
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    /* Transition douce entre les modes */
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  /* Amélioration des scrollbars pour le mode dark */
  .dark ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  
  .dark ::-webkit-scrollbar-track {
    background: var(--color-sidebar);
  }
  
  .dark ::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 5px;
  }
  
  .dark ::-webkit-scrollbar-thumb:hover {
    background: var(--color-muted-foreground);
  }
  
  /* Amélioration de la sélection de texte */
  .dark ::selection {
    background-color: var(--color-primary);
    color: var(--color-primary-foreground);
  }
}

@layer components {
  /* Animations pour les étapes du projet */
  
  /* Animation pulse pour l'étape en cours */
  .milestone-pulse {
    animation: milestone-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes milestone-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }
  
  /* Animation pour l'indicateur point pulsant */
  .progress-dot {
    animation: progress-dot-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes progress-dot-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.7);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(249, 115, 22, 0);
    }
  }
  
  /* Animation d'entrée douce pour les cartes */
  .card-enter {
    animation: card-enter 0.3s ease-out;
  }
  
  @keyframes card-enter {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Glow effect pour l'étape active */
  .milestone-active-glow {
    box-shadow: 0 10px 15px -3px rgba(249, 115, 22, 0.2);
    animation: active-glow 2s ease-in-out infinite;
  }
  
  @keyframes active-glow {
    0%, 100% {
      box-shadow: 0 10px 15px -3px rgba(249, 115, 22, 0.2);
    }
    50% {
      box-shadow: 0 10px 25px -3px rgba(249, 115, 22, 0.4);
    }
  }
}